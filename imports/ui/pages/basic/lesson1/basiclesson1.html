<template name="basiclesson1">
	<div class="container">
{{#markdown}}	
### Understanding FHIR

What is FHIR, really? It is a data representation and messaging standard. I think the following quotation from HL7 summarizes the whole concept very nicely:

> The FHIR specification defines a set of resources, and an infrastructure for handling resources. In order to use FHIR to create solutions for integration requirements, implementers must map their problems to resources and their content.

The data can be represented in several formats including XML and JavaScript Object Notation (JSON). Since the goal of this website is to bring viewers up to speed on creating FHIR applications, I will focus on the JSON notation, since this is easily used in web programming for exchanging and manipulating data.

### Resources

FHIR Resources are the basic data unit of the standard. A FHIR Resource is formally defined as follows:

> A resource is an entity that:

> * has a known identity (a URL) by which it can be addressed
> * identifies itself as one of the types of resource defined in this specification
> * contains a set of structured data items as described by the definition of the resource type
> * has an identified version that changes if the contents of the resource change

[See the rest of the formal definition here.](https://www.hl7.org/fhir/overview-arch.html#framework)

When working with FHIR we will be querying for or writing to individual or sets of Resources. Currently in DSTU3 there are [**118 FHIR Resources**](https://www.hl7.org/fhir/resourcelist.html) with more in the pipeline. You can read the ongoing discussion about new resources [**here**](http://wiki.hl7.org/index.php?title=FHIR_Resource_Types#Unsure).

### Classification

FHIR Resources have been mapped to an ontology to provide consistent meaning. The main classification of FHIR Resources breaks down into 6 categories

+ Clinical - The content of a clinical record
+ Identification - Supporting entities involved in the care process
+ Workflow - Manage the healthcare process
+ Financial - Resources that support the billing and payment parts of FHIR
+ Conformance - Resources use to manage specification, development and testing of FHIR solutions
+ Infrastructure - General functionality, and resources for internal FHIR requirements 

### Resource Breakdown

<img src="./FHIRresource_comparison.png" height="600px"></img>

HL7 vesion 2.4 Message
```
MSH|^~\&|GHH LAB|ELAB-3|GHH OE|BLDG4|200202150930||ORU^R01|CNTRL-3456|P|2.4<cr>
 PID|||555-44-4444||EVERYWOMAN^EVE^E^^^^L|JONES|19620320|F|||153 FERNWOOD DR.^
 ^STATESVILLE^OH^35292||(206)3345232|(206)752-121||||AC555444444||67-A4335^OH^20030520<cr>
 OBR|1|845439^GHH OE|1045813^GHH LAB|15545^GLUCOSE|||200202150730|||||||||
 555-55-5555^PRIMARY^PATRICIA P^^^^MD^^|||||||||F||||||444-44-4444^HIPPOCRATES^HOWARD H^^^^MD<cr>
 OBX|1|SN|1554-5^GLUCOSE^POST 12H CFST:MCNC:PT:SER/PLAS:QN||^182|mg/dl|70_105|H|||F<cr>
```
HL7 version 3 Message
```
 <POLB_IN224200 ITSVersion="XML_1.0" xmlns="urn:hl7-org:v3"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">  
 <id root="2.16.840.1.113883.19.1122.7" extension="CNTRL-3456"/>
 <creationTime value="200202150930-0400"/>
 <!-- The version of the datatypes/RIM/vocabulary used is that of May 2006 -->
 <versionCode code="2006-05"/>
 <!-- interaction id= Observation Event Complete, w/o Receiver Responsibilities -->
 <interactionId root="2.16.840.1.113883.1.6" extension="POLB_IN224200"/>
 <processingCode code="P"/>
 <processingModeCode nullFlavor="OTH"/>
 <acceptAckCode code="ER"/>
 <receiver typeCode="RCV">
   <device classCode="DEV" determinerCode="INSTANCE">
     <id extension="GHH LAB" root="2.16.840.1.113883.19.1122.1"/>
     <asLocatedEntity classCode="LOCE">
       <location classCode="PLC" determinerCode="INSTANCE">
         <id root="2.16.840.1.113883.19.1122.2" extension="ELAB-3"/>
       </location>
     </asLocatedEntity>
   </device>
 </receiver>
 <sender typeCode="SND">
   <device classCode="DEV" determinerCode="INSTANCE">
     <id root="2.16.840.1.113883.19.1122.1" extension="GHH OE"/>
     <asLocatedEntity classCode="LOCE">
       <location classCode="PLC" determinerCode="INSTANCE">
         <id root="2.16.840.1.113883.19.1122.2" extension="BLDG24"/>
       </location>
     </asLocatedEntity>
   </device>
 </sender>
 <controlActProcess classCode="CACT" moodCode="EVN">
  <code code="POLB_TE224200" codeSystem="2.16.840.1.113883.1.18"/>
  <subject typeCode="SUBJ" contextConductionInd="false">
 <observationEvent>
   <id root="2.16.840.1.113883.19.1122.4" extension="1045813"
       assigningAuthorityName="GHH LAB Filler Orders"/>
   <code code="1554-5" codeSystemName="LN"
         codeSystem="2.16.840.1.113883.6.1"
         displayName="GLUCOSE^POST 12H CFST:MCNC:PT:SER/PLAS:QN"/>
   <statusCode code="completed"/>
   <effectiveTime value="200202150730"/>
   <priorityCode code="R"/>
   <confidentialityCode code="N" 
      codeSystem="2.16.840.1.113883.5.25"/>
   <value xsi:type="PQ" value="182" unit="mg/dL"/>
   <interpretationCode code="H"/>
   <referenceRange>
      <interpretationRange>
          <value xsi:type="IVL_PQ">
          <low value="70" unit="mg/dL"/>
          <high value="105" unit="mg/dL"/>
        </value>
        <interpretationCode code="N"/>
      </interpretationRange>
   </referenceRange>
    <author>
 <time value="200202150730"/>
 <modeCode code="WRITTEN"/>
 <signatureCode code="S"/>
    <assignedEntity>
    <id root="2.16.840.1.113883.19.1122.3" extension="444-444-4444"/>
      <assignedPerson>
         <name>
            <given>Harold</given>
            <given>H</given>
            <family>Hippocrates</family>
            <suffix qualifier="AC">MD</suffix>
         </name>
      </assignedPerson>
    </assignedEntity>
 </author>
  <recordTarget>
    <patientClinical>
    <id root="2.16.840.1.113883.19.1122.5" extension="444-22-2222"
        assigningAuthorityName="GHH Lab Patient IDs"/>
    <statusCode code="active"/>
      <patientPerson>
        <name use="L">
           <given>Eve</given>
           <given>E</given>
           <family>Everywoman</family>
        </name>
        <asOtherIDs>
           <id extension="AC555444444" assigningAuthorityName="SSN"
               root="2.16.840.1.113883.4.1"/>
        </asOtherIDs>
      </patientPerson>
    </patientClinical>
 </recordTarget>
   <inFulfillmentOf>
       <placerOrder>
       <id root="2.16.840.1.113883.19.1122.14" extension="845439"
           assigningAuthorityName="GHH OE Placer orders"/>
       </placerOrder>
    </inFulfillmentOf>
 </observationEvent>
  </subject>
 </controlActProcess> </POLB_IN224200>
```
### Example: Condition 
**Resource Definition**

```javascript
{
  "resourceType" : "Condition",
  "identifier" : [{ Identifier }], // External Ids for this condition
  "clinicalStatus" : "<code>", // C? active | recurrence | inactive | remission | resolved
  "verificationStatus" : "<code>", // C? provisional | differential | confirmed | refuted | entered-in-error | unknown
  "category" : [{ CodeableConcept }], // problem-list-item | encounter-diagnosis
  "severity" : { CodeableConcept }, // Subjective severity of condition
  "code" : { CodeableConcept }, // Identification of the condition, problem or diagnosis
  "bodySite" : [{ CodeableConcept }], // Anatomical location, if relevant
  "subject" : { Reference(Patient|Group) }, // R!  Who has the condition?
  "context" : { Reference(Encounter|EpisodeOfCare) }, // Encounter or episode when condition first asserted

  // onset[x]: Estimated or actual date,  date-time, or age. One of these 5:
  "onsetDateTime" : "<dateTime>",
  "onsetAge" : { Age },
  "onsetPeriod" : { Period },
  "onsetRange" : { Range },
  "onsetString" : "<string>",

  // abatement[x]: If/when in resolution/remission. One of these 6:
  "abatementDateTime" : "<dateTime>",
  "abatementAge" : { Age },
  "abatementBoolean" : <boolean>,
  "abatementPeriod" : { Period },
  "abatementRange" : { Range },
  "abatementString" : "<string>",
  "assertedDate" : "<dateTime>", // Date record was believed accurate
  "asserter" : { Reference(Practitioner|Patient|RelatedPerson) }, // Person who asserts this condition
  "stage" : { // Stage/grade, usually assessed formally
    "summary" : { CodeableConcept }, // C? Simple summary (disease specific)
    "assessment" : [{ Reference(ClinicalImpression|DiagnosticReport|Observation) }] // C? Formal record of assessment
  },
  "evidence" : [{ // Supporting evidence
    "code" : [{ CodeableConcept }], // C? Manifestation/symptom
    "detail" : [{ Reference(Any) }] // C? Supporting information found elsewhere
  }],
  "note" : [{ Annotation }] // Additional information about the Condition
}
```
{{/markdown}}
	</div>
</template>