<template name="basiclesson2">
	<div class="container">
{{#markdown}}

{{/markdown}}
<pre id="data">
</pre>

<script>
	function createCORSRequest(method, url) {
		var xhr = new XMLHttpRequest()
		if ("withCredentials" in xhr) {
			// XHR for Chrome/Firefox/Opera/Safari.
			xhr.open(method, url, true)
		} else if (typeof XDomainRequest != "undefined") {
			// XDomainRequest for IE.
			xhr = new XDomainRequest()
			xhr.open(method, url)
		} else {
			// CORS not supported.
			xhr = null
		}
		return xhr
	}

	var xhr = createCORSRequest('GET', "http://spark.furore.com/fhir/Patient?name=james")
	if (!xhr) {
		throw new Error('CORS not supported')
	}

	xhr.onload = function() {
	    var text = xhr.responseText
	    console.log(text)
	    $('#data').html(text)
	}

	xhr.onerror = function() {
		console.log('Error')
	}

	xhr.setRequestHeader("Accept", "application/json")
	xhr.send()

</script>
	</div>
</template>